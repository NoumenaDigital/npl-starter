const OWNER_DELIVERABLE: Party = 'd';
const OWNER_MONEY: Party = 'm';

function test_swap(test: Test) {
    // Two assets
    deliverable: Deliverable = Deliverable[OWNER_DELIVERABLE]();
    money: Money = Money[OWNER_MONEY]();

    // An agreed-upon swap
    swap: Swap = Swap[OWNER_DELIVERABLE, OWNER_MONEY](deliverable, money);

    // Attempt a swap
    result: PcallResult<Unit> = test.pcall(\() returns Unit -> swap.swap[OWNER_DELIVERABLE]());

    match (result) {
        is Unit -> test.ok(true, "Ownership swap should succeed")
        else -> test.ok(false, "Unexpected failure")
    };
};
